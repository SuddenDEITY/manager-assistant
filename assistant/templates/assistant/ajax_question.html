<p class="question-field display-6 fw-bold" quest-id={{question.id}}>{{ question }}</p>
<p id="ajax-next-quest" style="display:none;">{{ ajax_next_question }}<p>
<div class="d-grid gap-2 justify-content-md-end">
    {% for answer in answers %}
    <button ans-id={{answer.id}} class="answer-btn btn btn-primary fs-5" type="button">{{answer.answer_title}}</button>
    {% endfor %}
</div>
<br>

<div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Ни один ответ не подошёл - внесите ответ клиента" aria-label="Recipient&#39;s username" aria-describedby="basic-addon2">
    <button ans-id="custom" class="answer-btn btn btn-outline-secondary btn-lg fs-4" type="button"> Продолжить </button>
</div>

<script>
    $('.answer-btn').click(function () {
        var thisDiv = $('.answer-wrapper');
        var question_id = $('.question-field').attr('quest-id');
        var answer_id = $(this).attr('ans-id');
        var category = $('.item-container');
        $.get(`/apply_answer/${question_id}/`,
              function(data){
                thisDiv.html('');
                thisDiv.append(data);
                $('.next-quest').html(`{{ ajax_next_question }}`);
              }
          );
          $.get(`/get_filter_val/${answer_id}/${JSON.stringify(filter_json)}`,
              function(data){
                category.html('');
                category.append(data);
                var filter_field = $('#filter_by').find('#filter_by_field').text();
                var filter_value = $('#filter_by').find('#filter_by_value').text();
                filter_by_arr.push([filter_field,filter_value]);
                $.each(filter_by_arr, function(i, obj){
                    var key = obj[0];
                    var value = obj[1];
                    filter_json[key] = value;
                    console.log(filter_json);
                });
                $('#filter_by').remove();
              }
          );
      });
</script>